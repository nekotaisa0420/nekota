<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>画像ギャラリー（スマホ版）</title>
<style>
body { font-family: sans-serif; margin: 10px; }
h1 { text-align: center; margin-bottom: 10px; }
#searchBar { width:100%; padding:8px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; }
#gallery { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
#gallery img { height:120px; width:auto; object-fit:contain; cursor:pointer; border-radius:8px; }
.modal { display:none; position:fixed; z-index:1000; top:0; left:0; width:100%; height:100%; background-color: rgba(0,0,0,0.8); justify-content:center; align-items:center; }
.modal img { max-width:95%; max-height:95%; object-fit:contain; border-radius:8px; }
</style>
</head>
<body>
<h1>画像ギャラリー（スマホ版）</h1>
<input type="text" id="searchBar" placeholder="タグで検索…">
<div id="gallery"></div>
<div id="modal" class="modal"><img id="modalImage"></div>
<script>
const images = [
  { src: "./images/PNG画像 1.png", tags: ['スカート'] },
  { src: "./images/PNG画像 2.png", tags: ['スカート'] },
  { src: "./images/PNG画像 3.png", tags: ['スカート'] },
  { src: "./images/PNG画像 4.png", tags: ['スカート'] },
  { src: "./images/PNG画像 5.png", tags: ['スカート', '座る'] },
  { src: "./images/PNG画像 6.png", tags: ['スカート', '座る'] },
  { src: "./images/PNG画像 7.png", tags: ['スカート'] },
  { src: "./images/PNG画像 8.png", tags: ['スカート'] },
  { src: "./images/PNG画像 9.png", tags: ['スカート', '座る'] },
  { src: "./images/PNG画像 10.png", tags: ['スカート', '座る'] },
  { src: "./images/PNG画像 11.png", tags: ['スカート', '座る'] },
];

const gallery = document.getElementById("gallery");
const modal = document.getElementById("modal");
const modalImage = document.getElementById("modalImage");
const searchBar = document.getElementById("searchBar");

function updateGallery(filterTag="") {
  gallery.innerHTML = "";
  images.filter(img => filterTag==="" || img.tags.some(tag=>tag.includes(filterTag)))
        .forEach(img=>{
    const el = document.createElement("img");
    el.src = img.src;
    el.alt = img.tags.join(", ");
    el.onclick = () => { modalImage.src = img.src; modal.style.display="flex"; };
    gallery.appendChild(el);
  });
}

updateGallery();
searchBar.addEventListener("input", ()=>updateGallery(searchBar.value.trim()));
modal.onclick = e => { if(e.target===modal) modal.style.display="none"; };
</script>
</body>
</html>
